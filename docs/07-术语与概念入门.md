# 术语与概念入门

> 版本：1.0.0 | 最后更新：2026-02-28
> 
> 本文档面向初学者，解释本框架涉及的缩写、关键概念和核心技术。

---

## 1. 缩写速查表

| 缩写 | 英文全称 | 中文含义 | 简要说明 |
|------|----------|----------|----------|
| API | Application Programming Interface | 应用程序编程接口 | 软件之间通信的约定和规则 |
| REST | Representational State Transfer | 表述性状态转移 | 一种 Web API 的设计风格 |
| HTTP | HyperText Transfer Protocol | 超文本传输协议 | 浏览器与服务器之间通信的协议 |
| HTTPS | HTTP Secure | 安全超文本传输协议 | HTTP 的加密版本（通过 SSL/TLS） |
| JSON | JavaScript Object Notation | JavaScript 对象表示法 | 轻量级数据交换格式 |
| XML | Extensible Markup Language | 可扩展标记语言 | 标签式数据格式，常用于 SOAP |
| YAML | YAML Ain't Markup Language | — | 人类友好的配置文件格式 |
| SOAP | Simple Object Access Protocol | 简单对象访问协议 | 基于 XML 的 Web 服务协议 |
| MQTT | Message Queuing Telemetry Transport | 消息队列遥测传输 | 轻量级物联网消息协议 |
| BDD | Behavior-Driven Development | 行为驱动开发 | 用自然语言描述测试的开发方法 |
| TDD | Test-Driven Development | 测试驱动开发 | 先写测试再写代码的开发方法 |
| SPI | Service Provider Interface | 服务提供者接口 | Java 的插件发现与加载机制 |
| DI | Dependency Injection | 依赖注入 | 由外部提供对象依赖，而非自己创建 |
| DTO | Data Transfer Object | 数据传输对象 | 用于在层之间传递数据的简单对象 |
| CRUD | Create, Read, Update, Delete | 增、查、改、删 | 数据操作的四种基本方式 |
| CI/CD | Continuous Integration / Continuous Delivery | 持续集成 / 持续交付 | 自动化构建、测试和部署流程 |
| JDK | Java Development Kit | Java 开发工具包 | 编写和运行 Java 程序所需的工具集 |
| JVM | Java Virtual Machine | Java 虚拟机 | 运行 Java 字节码的虚拟机 |
| JAR | Java Archive | Java 归档文件 | Java 程序的打包格式（`.jar` 文件） |
| POM | Project Object Model | 项目对象模型 | Maven 的项目配置文件（`pom.xml`） |
| URL | Uniform Resource Locator | 统一资源定位符 | 网络资源的地址（如 `https://example.com`） |
| URI | Uniform Resource Identifier | 统一资源标识符 | 标识资源的字符串，URL 是其子集 |
| SSL/TLS | Secure Sockets Layer / Transport Layer Security | 安全套接层 / 传输层安全 | 网络通信加密协议 |
| PAT | Personal Access Token | 个人访问令牌 | GitHub 等平台的身份验证凭据 |
| SSH | Secure Shell | 安全外壳协议 | 安全远程连接与文件传输协议 |
| UTF-8 | 8-bit Unicode Transformation Format | — | 通用字符编码格式，支持中文等多语言 |

---

## 2. 核心概念详解

### 2.1 REST API — 理解 Web 接口

**什么是 API？**

想象 API 就像餐厅的菜单 —— 你（客户端）根据菜单（API 文档）点菜（发送请求），厨房（服务器）做好菜后端给你（返回响应）。你不需要知道菜是怎么做的，只需要知道怎么点菜。

**什么是 REST？**

REST 是一种设计 API 的风格，它使用标准的 HTTP 方法操作资源：

| HTTP 方法 | 操作 | 类比 | 示例 |
|-----------|------|------|------|
| `GET` | 查询/读取 | 查看菜单 | `GET /users/1` → 查询 ID 为 1 的用户 |
| `POST` | 创建 | 提交新订单 | `POST /users` → 创建新用户 |
| `PUT` | 全量更新 | 重新下单 | `PUT /users/1` → 完全替换用户信息 |
| `PATCH` | 部分更新 | 修改订单中的一项 | `PATCH /users/1` → 修改部分字段 |
| `DELETE` | 删除 | 取消订单 | `DELETE /users/1` → 删除用户 |

**HTTP 状态码：**

| 范围 | 含义 | 常见码 |
|------|------|--------|
| `2xx` | 成功 | `200` 成功、`201` 已创建、`204` 无内容 |
| `3xx` | 重定向 | `301` 永久移动、`302` 临时重定向 |
| `4xx` | 客户端错误 | `400` 请求错误、`401` 未授权、`403` 禁止、`404` 未找到 |
| `5xx` | 服务器错误 | `500` 内部错误、`502` 网关错误、`503` 服务不可用 |

---

### 2.2 JSON — 数据交换格式

JSON 是 API 中最常用的数据格式，结构简单直观：

```json
{
  "name": "张三",
  "age": 30,
  "isActive": true,
  "skills": ["Java", "Python", "测试"],
  "address": {
    "city": "上海",
    "zipCode": "200000"
  }
}
```

**基本类型：**
- **字符串**：`"hello"` — 用双引号包裹
- **数字**：`42`、`3.14` — 不需要引号
- **布尔值**：`true` 或 `false`
- **空值**：`null`
- **数组**：`[1, 2, 3]` — 有序列表
- **对象**：`{"key": "value"}` — 键值对集合

---

### 2.3 JSON Path — 从 JSON 中提取数据

JSON Path 类似于文件路径，用来定位 JSON 中的特定数据。

假设有以下 JSON：
```json
{
  "store": {
    "name": "书店",
    "books": [
      { "title": "Java 入门", "price": 49.9 },
      { "title": "Python 实战", "price": 59.9 }
    ]
  }
}
```

| JSON Path 表达式 | 结果 | 说明 |
|------------------|------|------|
| `$.store.name` | `"书店"` | 访问嵌套字段 |
| `$.store.books[0].title` | `"Java 入门"` | 数组第一个元素的 title |
| `$.store.books[1].price` | `59.9` | 数组第二个元素的 price |
| `$.store.books[*].title` | `["Java 入门", "Python 实战"]` | 所有元素的 title |
| `$..title` | `["Java 入门", "Python 实战"]` | 递归搜索所有 title |

> 在本框架中，JSON Path 断言用于验证 API 响应内容：
> ```gherkin
> Then the JSON path "$.store.name" should equal "书店"
> ```

---

### 2.4 BDD 与 Cucumber — 用自然语言写测试

**什么是 BDD？**

BDD（行为驱动开发）的核心思想是：**用所有人都能理解的语言描述软件行为**。不需要懂编程，也能理解测试内容。

**什么是 Cucumber？**

Cucumber 是实现 BDD 的工具。它读取用 **Gherkin** 语法编写的 `.feature` 文件，并执行对应的 Java 代码。

**Gherkin 关键字：**

| 关键字 | 含义 | 用途 |
|--------|------|------|
| `Feature` | 功能 | 描述测试的功能模块 |
| `Scenario` | 场景 | 一个具体的测试用例 |
| `Given` | 假设/前提 | 设置初始条件 |
| `When` | 当/操作 | 执行某个动作 |
| `Then` | 那么/验证 | 检查预期结果 |
| `And` | 并且 | 连接同类型步骤 |
| `But` | 但是 | 连接同类型步骤（用于否定） |
| `Background` | 背景 | 所有场景共享的前置步骤 |
| `Scenario Outline` | 场景大纲 | 数据驱动的参数化测试 |
| `Examples` | 示例 | 为场景大纲提供测试数据 |

**完整示例：**
```gherkin
Feature: 用户登录
  作为网站用户
  我需要通过用户名和密码登录
  以访问我的个人页面

  Scenario: 正确的用户名和密码
    Given 用户访问登录页面              # ← 前提条件
    When 用户输入用户名 "admin"         # ← 执行操作
    And 用户输入密码 "123456"
    And 用户点击登录按钮
    Then 页面应显示 "欢迎回来"           # ← 验证结果

  Scenario: 错误的密码
    Given 用户访问登录页面
    When 用户输入用户名 "admin"
    And 用户输入密码 "wrong"
    And 用户点击登录按钮
    Then 页面应显示 "密码错误"
```

---

### 2.5 Maven — 项目构建工具

**什么是 Maven？**

Maven 是 Java 项目的"管家"，负责：
- **依赖管理**：自动下载项目需要的第三方库（如 REST Assured、Cucumber）
- **项目构建**：编译代码、运行测试、打包发布
- **标准目录结构**：统一项目布局

**项目结构：**
```
项目根目录/
├── pom.xml                          ← Maven 配置文件（最重要！）
├── src/main/java/                   ← 主代码
├── src/main/resources/              ← 主资源文件
├── src/test/java/                   ← 测试代码
├── src/test/resources/              ← 测试资源文件
└── target/                          ← 构建输出（自动生成）
```

**pom.xml 核心元素：**
```xml
<project>
  <groupId>com.framework</groupId>      <!-- 组织/公司 ID -->
  <artifactId>api-test-framework</artifactId>  <!-- 项目名 -->
  <version>1.0.0-SNAPSHOT</version>      <!-- 版本号 -->
  
  <dependencies>                         <!-- 依赖列表 -->
    <dependency>
      <groupId>io.rest-assured</groupId> <!-- 依赖的组织 -->
      <artifactId>rest-assured</artifactId> <!-- 依赖的名称 -->
      <version>5.5.0</version>           <!-- 依赖的版本 -->
    </dependency>
  </dependencies>
</project>
```

**常用命令解读：**
| 命令 | 做什么 |
|------|--------|
| `mvnw clean` | 清除上次构建的输出 (`target/` 目录) |
| `mvnw compile` | 编译 Java 源代码 |
| `mvnw test` | 编译代码并运行测试 |
| `mvnw package` | 编译 + 测试 + 打包为 JAR |
| `mvnw clean test` | 先清理，再编译和测试（推荐） |

**什么是 Maven Wrapper？**

Maven Wrapper（`mvnw` / `mvnw.cmd`）是 Maven 的"便携版"。它让项目自带 Maven，无需在系统上全局安装。团队成员克隆项目后直接运行 `.\mvnw.cmd test` 即可，确保每个人使用相同版本的 Maven。

---

### 2.6 JUnit 5 — 测试引擎

**什么是 JUnit？**

JUnit 是 Java 最主流的测试框架。JUnit 5 是最新版本，由三个模块组成：

```
JUnit 5
├── JUnit Platform  ← 测试运行平台（发现和执行测试的基础设施）
├── JUnit Jupiter   ← JUnit 自己的测试 API（@Test 等注解）
└── JUnit Vintage   ← 兼容旧版 JUnit 3/4
```

在本框架中，JUnit 5 **Platform** 作为测试运行平台，Cucumber 作为测试引擎插入其中。

---

### 2.7 REST Assured — HTTP 客户端库

**什么是 REST Assured？**

REST Assured 是专为测试 REST API 设计的 Java 库，语法直观可读：

```java
// 发送 GET 请求并验证响应
given()
    .baseUri("https://api.example.com")
    .header("Authorization", "Bearer token123")
.when()
    .get("/users/1")
.then()
    .statusCode(200)
    .body("name", equalTo("张三"));
```

> 在本框架中，REST Assured 被封装在 `RestClient` 类中，使用者通过 Gherkin 步骤调用，无需直接编写 Java 代码。

---

### 2.8 SPI — 插件发现机制

**什么是 SPI？**

SPI（Service Provider Interface）是 Java 内置的插件发现机制。它允许框架在运行时自动找到并加载实现类，无需硬编码。

**工作原理：**

```
1. 定义接口
   → ProtocolClient.java（我能做什么）

2. 编写实现
   → RestClient.java（我是 REST 实现）
   → SoapClient.java（我是 SOAP 实现）

3. 注册实现（在 META-INF/services/ 目录下创建文件）
   → 文件名 = 接口全名
   → 文件内容 = 实现类全名（每行一个）

4. 框架自动发现
   → ServiceLoader 扫描 → 找到所有实现 → 按需使用
```

**类比理解：**

就像 USB 接口 —— 只要设备符合 USB 标准（接口），插上就能用（SPI 发现），不管是鼠标、键盘还是U盘（不同实现）。

---

### 2.9 依赖注入（DI）

**什么是依赖注入？**

假设 A 需要使用 B：

**不用 DI（自己创建）：**
```java
class A {
    private B b = new B();  // A 自己创建 B，A 和 B 紧密耦合
}
```

**使用 DI（外部提供）：**
```java
class A {
    private B b;
    A(B b) { this.b = b; }  // B 从外部传入，A 不关心 B 怎么创建
}
```

**好处**：更灵活、更容易测试、更容易替换实现。

在本框架中，**PicoContainer** 作为 Cucumber 的 DI 容器，自动为每个 Scenario 创建独立的 `TestContext` 实例，确保场景之间不会互相干扰。

---

### 2.10 YAML — 配置文件格式

**什么是 YAML？**

YAML 是一种简洁的配置文件格式，比 JSON 和 XML 更易读：

```yaml
# 这是注释
rest:
  base-url: https://api.example.com    # 字符串
  connect-timeout: 5000                # 数字
  log-requests: true                   # 布尔值

# 列表
environments:
  - dev
  - staging
  - prod
```

**与 JSON 对比：**

| 特性 | YAML | JSON |
|------|------|------|
| 注释 | ✅ 支持（`#`） | ❌ 不支持 |
| 引号 | 通常不需要 | 字符串必须双引号 |
| 可读性 | ⭐⭐⭐ 非常好 | ⭐⭐ 还行 |
| 对齐 | 用缩进表示层级 | 用 `{}` 和 `[]` |
| 用途 | 配置文件 | 数据传输 |

---

## 3. 本框架技术栈一览

```
┌──────────────────────────────────────────────────┐
│                  测试框架技术栈                     │
├──────────────┬───────────────────────────────────┤
│ 编程语言      │ Java 21 LTS                       │
│ 构建工具      │ Maven 3.9（通过 Wrapper）           │
│ BDD 框架     │ Cucumber 7.20（Gherkin 语法）       │
│ 测试引擎      │ JUnit 5 Platform                  │
│ HTTP 客户端   │ REST Assured 5.5                  │
│ JSON 处理    │ Jackson 2.18 + JsonPath 2.9       │
│ 断言库        │ AssertJ 3.27                      │
│ 依赖注入      │ PicoContainer（Cucumber 内置）      │
│ 日志          │ SLF4J 2.0 + Logback 1.5          │
│ 配置管理      │ SnakeYAML 2.3                     │
│ 代码简化      │ Lombok 1.18                       │
│ 插件机制      │ Java SPI                          │
├──────────────┼───────────────────────────────────┤
│ 未来扩展      │ SOAP / MQTT / Kafka               │
└──────────────┴───────────────────────────────────┘
```

---

## 4. 框架运行流程图解

```
你编写的 Feature 文件（Gherkin 语法）
        │
        ▼
  ┌─────────────┐
  │  Cucumber    │  读取 .feature 文件，匹配步骤定义
  │  (BDD 框架)  │
  └──────┬──────┘
         │
         ▼
  ┌─────────────┐
  │ Step Defs    │  每个 Gherkin 步骤对应一个 Java 方法
  │ (步骤定义)    │  
  └──────┬──────┘
         │ 使用
         ▼
  ┌─────────────┐
  │ TestContext   │  存储请求/响应数据、共享变量
  │ (测试上下文)   │  每个 Scenario 独立一份
  └──────┬──────┘
         │ 调用
         ▼
  ┌─────────────┐
  │ Protocol     │  SPI 自动发现（RestClient / SoapClient / ...）
  │ Client       │
  │ (协议客户端)   │
  └──────┬──────┘
         │ 通过 HTTP / SOAP / MQTT / Kafka
         ▼
  ┌─────────────┐
  │ 被测 API     │  你的应用服务器
  │ Server       │
  └─────────────┘
```

---

## 5. 进一步学习资源

| 主题 | 推荐资源 | 链接 |
|------|----------|------|
| REST API 入门 | RESTful API 设计指南 | https://restfulapi.net/ |
| JSON | JSON 官方介绍 | https://www.json.org/json-zh.html |
| JSON Path | 在线测试工具 | https://jsonpath.com/ |
| Cucumber | 官方文档 | https://cucumber.io/docs/ |
| Gherkin | 语法参考 | https://cucumber.io/docs/gherkin/reference/ |
| REST Assured | 官方指南 | https://rest-assured.io/ |
| Maven | 入门教程 | https://maven.apache.org/guides/getting-started/ |
| JUnit 5 | 用户手册 | https://junit.org/junit5/docs/current/user-guide/ |
| Java 21 | 新特性概览 | https://openjdk.org/projects/jdk/21/ |
| YAML | 语法速查 | https://yaml.org/ |
